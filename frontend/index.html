<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gurong Gallegan Award - Manuel V Gallego Foundation Colleges</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <!-- Banner Section -->
    <div class="banner">
        <img src="assets/banner.png" alt="MVG Foundation Colleges Banner" class="banner-image">
    </div>

    <!-- Main Container -->
    <div class="container">

        <!-- Logo and Header -->
        <div class="header-section">
            <img src="assets/logo.png" alt="MVG Logo" class="logo">
            <h1>Gurong Gallegan 2026 Voters Page</h1>
            <p class="subtitle">Cast your vote for the next Gurong Gallegan!</p>
        </div>

        <!-- Voting Form Card -->
        <div class="card">

            <!-- Success Message -->
            <div id="successMessage" class="message success-message" style="display: none;">
                <h3>&#10003; Vote Submitted Successfully!</h3>
                <p>Thank you for participating!</p>
                <div style="margin-top: 16px;">
                    <p style="font-size: 14px; margin-bottom: 12px;">
                        &#128276; <strong>One more step:</strong> Submit your valid ID to verify your vote.
                    </p>
                    <button class="btn-id-submit" onclick="openIDModal()">
                        &#128203; Submit ID for Verification
                    </button>
                    <p style="font-size: 13px; margin-top: 12px; color: #555;">
                        Or <a href="results.html" style="color: var(--primary-green); font-weight: 600;">view results</a>
                    </p>
                </div>
            </div>

            <!-- Error Message -->
            <div id="errorMessage" class="message error-message" style="display: none;">
                <h3>&#9888; Unable to Submit Vote</h3>
                <p id="errorText"></p>
            </div>

            <!-- Voting Form -->
            <form id="votingForm">

                <!-- ── Personal Information ── -->
                <div class="form-section-label">Personal Information</div>

                <div class="form-group">
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName"
                        placeholder="Enter your full name" required autocomplete="name">
                </div>

                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email"
                        placeholder="your.email@example.com" required autocomplete="email">
                </div>

                <div class="form-group">
                    <label for="mobile">Mobile Number *</label>
                    <input type="tel" id="mobile" name="mobile"
                        placeholder="09XX XXX XXXX" required autocomplete="tel">
                    <small>Format: 11 digits starting with 09 (e.g., 09123456789)</small>
                </div>

                <div class="form-group">
                    <label for="currentSchool">Current School *</label>
                    <input type="text" id="currentSchool" name="currentSchool"
                        placeholder="Enter your school name" required autocomplete="organization">
                </div>

                <div class="form-group">
                    <label for="gradeLevel">Grade Level *</label>
                    <select id="gradeLevel" name="gradeLevel" required>
                        <option value="">-- Select your grade level --</option>
                        <option value="Grade 7">Grade 7</option>
                        <option value="Grade 8">Grade 8</option>
                        <option value="Grade 9">Grade 9</option>
                        <option value="Grade 10">Grade 10</option>
                        <option value="Grade 11">Grade 11</option>
                        <option value="Grade 12">Grade 12</option>
                        <option value="1st Year College">1st Year College</option>
                        <option value="2nd Year College">2nd Year College</option>
                        <option value="3rd Year College">3rd Year College</option>
                        <option value="4th Year College">4th Year College</option>
                    </select>
                </div>

                <!-- ── Guardian Information ── -->
                <div class="form-section-label">Guardian Information</div>

                <div class="form-group">
                    <label for="guardianName">Guardian's Full Name *</label>
                    <input type="text" id="guardianName" name="guardianName"
                        placeholder="Enter guardian's full name" required autocomplete="off">
                </div>

                <div class="form-group">
                    <label for="guardianNumber">Guardian's Mobile Number *</label>
                    <input type="tel" id="guardianNumber" name="guardianNumber"
                        placeholder="09XX XXX XXXX" required autocomplete="off">
                    <small>Format: 11 digits starting with 09 (e.g., 09123456789)</small>
                </div>

                <!-- ── Candidate Selection ── -->
                <div class="form-section-label">Vote for Your Candidate</div>

                <div class="form-group">
                    <label>Select Your Candidate *</label>
                    <div id="contestantsList" class="contestants-list">
                        <div class="loading-spinner">Loading candidates...</div>
                    </div>
                </div>

                <!-- ── Privacy Consent ── -->
                <div class="form-group consent-group">
                    <label class="consent-label">
                        <input type="checkbox" id="privacyConsent" name="privacyConsent">
                        <span class="consent-text">
                            I give my consent to the <strong>Manuel V. Gallego Foundation Colleges</strong> to
                            collect, store, and process my personal information — including my name,
                            contact details, school, grade level, and guardian information — solely for
                            the purpose of voter verification and participation in the
                            <strong>Gurong Gallegan 2026</strong> event. I understand that my information
                            will be kept confidential and will not be shared with any unauthorized third
                            parties. *
                        </span>
                    </label>
                    <div id="consentError" class="consent-error" style="display: none;">
                        &#9888; You must agree to the privacy consent to submit your vote.
                    </div>
                </div>

                <button type="submit" class="btn-primary" id="submitBtn">
                    Submit Vote
                </button>

                <div class="form-footer">
                    <p>Already voted? <a href="results.html">View Results</a></p>
                </div>

            </form>
        </div>

        <!-- ID Verification Card (always visible) -->
        <div class="card id-verification-card">
            <div class="id-verification-content">
                <div class="id-icon">&#128203;</div>
                <div class="id-text">
                    <h3>ID Verification Required</h3>
                    <p>
                        To make your vote valid, please submit a photo of your valid
                        <strong>school ID</strong> or <strong>government-issued ID</strong>.
                    </p>
                </div>
                <button class="btn-id-submit" onclick="openIDModal()">
                    Submit ID
                </button>
            </div>
        </div>

        <!-- Info Section -->
        <div class="info-section">
            <div class="info-card">
                <h3>&#128203; Voting Guidelines</h3>
                <ul>
                    <li>Each student can vote only once</li>
                    <li>Select only ONE candidate</li>
                    <li>You must agree to the privacy consent</li>
                    <li>Submit a valid ID to verify your vote</li>
                    <li>All information provided will be kept confidential</li>
                    <li>Voting closes on the announced deadline</li>
                </ul>
            </div>
            <div class="info-card">
                <h3>&#127891; About MVG Foundation Colleges</h3>
                <p>Manuel V Gallego Foundation Colleges is committed to providing quality education
                and fostering student leadership through democratic processes.</p>
            </div>
        </div>

    </div><!-- /container -->

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2026 Manuel V Gallego Foundation Colleges. All rights reserved.</p>
        <p class="admin-link"><a href="admin.html">Admin Access</a></p>
    </footer>

    <!-- =====================================================
         ID SUBMISSION MODAL
         ===================================================== -->
    <div id="idModal" class="modal-overlay" style="display: none;"
         onclick="closeIDModalOnOverlay(event)">
        <div class="modal-container">

            <div class="modal-header">
                <div>
                    <h3>&#128203; Submit Your ID for Verification</h3>
                    <p>Upload a photo of your valid school ID or any government-issued ID</p>
                </div>
                <button class="modal-close-btn" onclick="closeIDModal()" aria-label="Close">&#10005;</button>
            </div>

            <div class="modal-body">
                <iframe
                    src="https://docs.google.com/forms/d/e/1FAIpQLSc8K_EzpCRBumLrlt3ECbXea-kntB2ycLgQBPUI8WIPX8ADAg/viewform?embedded=true"
                    width="100%"
                    height="560"
                    frameborder="0"
                    marginheight="0"
                    marginwidth="0"
                    title="ID Verification Form"
                    loading="lazy">
                    Loading form...
                </iframe>
            </div>

            <div class="modal-footer">
                <button class="btn-secondary" onclick="closeIDModal()">Close</button>
            </div>

        </div>
    </div>

    <script src="js/voting.js"></script>
    <script>
        function openIDModal() {
            document.getElementById('idModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        function closeIDModal() {
            document.getElementById('idModal').style.display = 'none';
            document.body.style.overflow = '';
        }
        function closeIDModalOnOverlay(e) {
            if (e.target === document.getElementById('idModal')) closeIDModal();
        }
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') closeIDModal();
        });
    </script>

</body>
</html>